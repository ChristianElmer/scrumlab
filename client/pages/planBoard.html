<template name="planBoard">
    {{#with project}}
    <div class="page-header">
        <h1>{{gitlab.name}} - Plan your work</h1>
        <input type="hidden" id="projectId" ref={{_id}}>
    </div>
    {{/with}} {{> addIssueTmpl}} {{> planBoardSprints}}
</template>


<template name="planBoardSprints">
    <div class="row">
        <div id="backlog" class="col-md-6">
            {{> issuesListTmpl issues}}
            <p id="backlogFooter">{{issuesStats}}</p>
        </div>
        <div id="sprints" class="col-md-6 list-group">
            {{> planBoardSprintsList}}
        </div>
    </div>
</template>


<template name="planBoardSprintsList">
    {{> planBoardSprintsInput}}
    {{#each sprints}}
    <div class="alert alert-dismissable alert-warning">
        <div>
            <span class="label label-success">Status: {{status}}</span>
            <span class="label label-primary">End date: {{endDate}}</span>
            <span class="text-right" style="float:right;">
                <button type="button" class="btn btn-success btn-sm">Start this sprint</button>
            </span>
        </div>
        <div class="well well-sm text-left" style="margin-top:8px;">
            <h5><Strong>{{name}}</Strong></h5>
        </div>
        <div class="sprint" id={{_id}} style="min-height: 15px">
            {{#each assignedItems _id}} {{> issueItemTmpl}} {{/each}}
        </div>
    </div>
    {{/each}}
</template>


<template name="planBoardSprintsInput">
    <details id="addSprint">
        <summary>New sprint</summary>
        <input type="text" id="name" style="width: 98%; margin: 1%;" placeholder="Sprint title" />
        <input type="text" id="datepicker" style="width: 66%; margin: 1%;" placeholder="End date" />
        <input type="button" class="insert" style="width: 29%; margin: 1%;" value="Add" />
    </details>
</template>


<template name="planBoardAssignees">
    {{#each assignees}}
    <option value={{_id}}>{{username}}</option>
    {{/each}}
</template>